<md-card [ngClass]="{'res':true,'res-pop':isPop}">
  <md-card-title [ngClass]="{'res-self':isSelf}">
    <a (click)="reply()" href="javascript:void(0);">{{res.name}}</a>
    <a *ngIf="res.profile!==null" (click)="profileOpen()" href="javascript:void(0);">[プロフィール]</a>
    <span>{{res.date|date:"y/MM/dd(EEE) HH:mm:ss"}}</span>
    <a href="javascript:void(0);" (click)="hashClick()">HASH:{{res.hash}}</a>
  </md-card-title>
  <md-card-content>
    <button *ngIf="res.reply!==null" type="button" (click)="sendReplyClick()" md-button>
      <md-icon>send</md-icon>
    </button>
    <button type="button" (click)="receiveReplyClick()" *ngIf="res.replyCount!==0" md-button>
      <md-icon>reply</md-icon>
      {{res.replyCount}}
    </button>
    <div [innerHTML]="res.mdtext" class="aa"></div>
  </md-card-content>
  <md-card-actions class="res-footer">
    <span *ngIf="!isSelf&&(ud.isToken|async)&&!res.isVote">
    <button type="button" (click)="uv()" md-button>
      <md-icon>thumb_up</md-icon>
    </button>
    <span> {{res.vote}}</span>
    <button type="button" (click)="dv()" md-button>
      <md-icon>thumb_down</md-icon>
    </button>
    </span>
    <span *ngIf="isSelf||!(ud.isToken|async)||res.isVote">
      <md-icon>thumbs_up_down</md-icon>{{res.vote}}
    </span>
    <button type="button" *ngIf="isSelf&&res.deleteFlag==='active'" (click)="del()" md-button>
      <md-icon>delete</md-icon>
    </button>
  </md-card-actions>
  <md-card-footer></md-card-footer>
  <div *ngIf="children.length!==0">
    <at-res *ngFor="let c of children" [res]="c" (update)="childrenUpdate($event)" [isPop]="true"></at-res>
  </div>
</md-card>